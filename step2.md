次に、ユーザーが入力したプロセスの概要をOpenAI APIに送信し、プロセスの「機能カテゴリ」を抽出する機能を実装します。

**前提:**
*   ステップ1で作成した`app.py`のコードに追記・修正する形で実装します。
*   OpenAI APIキーは、Streamlitのシークレット管理 (`st.secrets`) を利用して安全に読み込むことを想定します。（コード内には `st.secrets["OPENAI_API_KEY"]` のように記述してください）

**要件:**
1.  **ライブラリの追加:** `openai` をインポートしてください。
2.  **UIの追加:**
    *   サイドバーの「1. プロセス定義」セクションの下に、「2. 機能カテゴリの定義」という見出しを追加してください。
    *   「カテゴリを自動抽出」というボタン (`st.button`) を設置してください。
3.  **OpenAI APIクライアントの初期化:**
    *   OpenAI APIキーを使って、OpenAIクライアントを初期化するコードを記述してください。
4.  **機能カテゴリ抽出ロジック:**
    *   「カテゴリを自動抽出」ボタンが押されたら、以下の処理を実行してください。
    *   セッションステートから`process_description`を取得します。
    *   以下の仕様でOpenAI API (Chat Completions) にリクエストを送信するプロンプトを構築してください。
        *   **役割 (ペルソナ):** あなたは生産技術に20年以上従事するベテランのコンサルタントです。
        *   **タスク:** 与えられた生産プロセスの説明文を分析し、そのプロセスを評価するための重要な「機能カテゴリ」を5〜8個抽出してください。機能カテゴリは、品質、コスト、時間、安全性などの普遍的な指標を含みつつ、そのプロセス特有の観点も考慮してください。
        *   **出力形式:** 結果は必ずJSON形式のリスト（例: `["品質", "作業時間", "製造コスト", "安全性"]`）として出力してください。他の説明文は不要です。
    *   APIからのレスポンス（JSON文字列）をPythonのリストにパースしてください。
    *   パースしたリストをセッションステートの `project_data['functional_categories']` に保存してください。
    *   エラーハンドリングとして、APIからのレスポンスが不正なJSONだった場合に備え、`try-except`ブロックを使用し、エラーメッセージを`st.error()`で表示してください。
5.  **結果の表示と編集:**
    *   メイン画面に「機能カテゴリ一覧」という見出しを追加してください。
    *   セッションステートに`functional_categories`が存在する場合、Streamlitの`st.data_editor`を使用して、ユーザーがカテゴリ名を編集・追加・削除できるように表示してください。
    *   `st.data_editor`での変更結果は、セッションステートに自動的に反映されるようにしてください。

**コード品質への要求:**
*   LLMへのプロンプトは、可読性を高めるために三重引用符(`"""`)を使ったヒアドキュメントで記述してください。
*   OpenAI API呼び出し部分は、独立した関数（例: `extract_categories(description)`）として定義することを推奨します。

上記要件を満たすように、既存の`app.py`を更新するコードを生成してください。